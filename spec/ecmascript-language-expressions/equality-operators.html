<es-clause title="Equality Operators" anchor="sec-equality-operators">
  <es-note>
    <p>The result of evaluating an equality operator is always of type Boolean, reflecting whether
    the relationship named by the operator holds between its two operands.</p>
  </es-note>

  <h2>Syntax</h2>

  <es-production name="EqualityExpression" params="In, Yield">
    <es-rhs><es-nt params="?In, ?Yield">RelationalExpression</es-nt></es-rhs>

    <es-rhs><es-nt params="?In, ?Yield">EqualityExpression</es-nt> == <es-nt params=
    "?In, ?Yield">RelationalExpression</es-nt></es-rhs>

    <es-rhs><es-nt params="?In, ?Yield">EqualityExpression</es-nt> != <es-nt params=
    "?In, ?Yield">RelationalExpression</es-nt></es-rhs>

    <es-rhs><es-nt params="?In, ?Yield">EqualityExpression</es-nt> === <es-nt params=
    "?In, ?Yield">RelationalExpression</es-nt></es-rhs>

    <es-rhs><es-nt params="?In, ?Yield">EqualityExpression</es-nt> !== <es-nt params=
    "?In, ?Yield">RelationalExpression</es-nt></es-rhs>
  </es-production>

  <es-clause title="Static Semantics: IsAnonymousFunctionDefinition" anchor=
  "sec-equality-operators-static-semantics-isanonymousfunctiondefinition">
    <p>See also: <es-xref target=
    "sec-semantics-static-semantics-isanonymousfunctiondefinition">12.1.0.2</es-xref>,
    <es-xref target=
    "sec-grouping-operator-static-semantics-isanonymousfunctiondefinition">12.1.10.2</es-xref>,
    <es-xref target=
    "sec-static-semantics-static-semantics-isanonymousfunctiondefinition">12.2.1.2</es-xref>,
    <es-xref target=
    "sec-postfix-expressions-static-semantics-isanonymousfunctiondefinition">12.3.2</es-xref>,
    <es-xref target=
    "sec-unary-operators-static-semantics-isanonymousfunctiondefinition">12.4.2</es-xref>,
    <es-xref target=
    "sec-multiplicative-operators-static-semantics-isanonymousfunctiondefinition">12.5.1</es-xref>,
    <es-xref target=
    "sec-additive-operators-static-semantics-isanonymousfunctiondefinition">12.6.1</es-xref>,
    <es-xref target=
    "sec-bitwise-shift-operators-static-semantics-isanonymousfunctiondefinition">12.7.1</es-xref>,
    <es-xref target=
    "sec-relational-operators-static-semantics-isanonymousfunctiondefinition">12.8.1</es-xref>,
    <es-xref target=
    "sec-binary-bitwise-operators-static-semantics-isvalidsimpleassignmenttarget">12.10.2</es-xref>,
    <es-xref target=
    "sec-binary-logical-operators-static-semantics-isanonymousfunctiondefinition">12.11.1</es-xref>,
    <es-xref target=
    "sec-conditional-operator-static-semantics-isanonymousfunctiondefinition">12.12.1</es-xref>,
    <es-xref target=
    "sec-assignment-operators-static-semantics-isanonymousfunctiondefinition">12.13.2</es-xref>,
    <es-xref target=
    "sec-comma-operator-static-semantics-isvalidsimpleassignmenttarget">12.14.2</es-xref>,
    <es-xref target=
    "sec-function-definitions-static-semantics-isanonymousfunctiondefinition">14.1.6</es-xref>,
    <es-xref target=
    "sec-generator-function-definitions-static-semantics-isanonymousfunctiondefinition">14.4.5</es-xref>,
    <es-xref target=
    "sec-class-definitions-static-semantics-isanonymousfunctiondefinition">14.5.5</es-xref>.</p>

    <es-production name="EqualityExpression">
      <es-rhs><es-nt>EqualityExpression</es-nt> == <es-nt>RelationalExpression</es-nt></es-rhs>

      <es-rhs><es-nt>EqualityExpression</es-nt> != <es-nt>RelationalExpression</es-nt></es-rhs>

      <es-rhs><es-nt>EqualityExpression</es-nt> === <es-nt>RelationalExpression</es-nt></es-rhs>

      <es-rhs><es-nt>EqualityExpression</es-nt> !== <es-nt>RelationalExpression</es-nt></es-rhs>
    </es-production>

    <ol class="proc">
      <li>Return <b>false</b>.</li>
    </ol>
  </es-clause>

  <es-clause title="Static Semantics: IsValidSimpleAssignmentTarget" anchor=
  "sec-equality-operators-static-semantics-isvalidsimpleassignmenttarget">
    <p>See also: <es-xref target=
    "sec-semantics-static-semantics-isidentifierref">12.1.0.3</es-xref>, <es-xref target=
    "sec-grouping-operator-static-semantics-isvalidsimpleassignmenttarget">12.1.10.3</es-xref>,
    <es-xref target="sec-static-semantics-static-semantics-isidentifierref">12.2.1.3</es-xref>,
    <es-xref target=
    "sec-postfix-expressions-static-semantics-isvalidsimpleassignmenttarget">12.3.3</es-xref>,
    <es-xref target=
    "sec-unary-operators-static-semantics-isvalidsimpleassignmenttarget">12.4.3</es-xref>,
    <es-xref target=
    "sec-multiplicative-operators-static-semantics-isvalidsimpleassignmenttarget">12.5.2</es-xref>,
    <es-xref target=
    "sec-additive-operators-static-semantics-isvalidsimpleassignmenttarget">12.6.2</es-xref>,
    <es-xref target="sec-semantics-isvalidsimpleassignmenttarget">12.7.2</es-xref>,
    <es-xref target="sec-relational-operators-static-semantics-isvalidsimpleassignmenttarget">12.8.2</es-xref>,
    <es-xref target=
    "sec-binary-bitwise-operators-static-semantics-isvalidsimpleassignmenttarget">12.10.2</es-xref>,
    <es-xref target=
    "sec-binary-logical-operators-static-semantics-isvalidsimpleassignmenttarget">12.11.2</es-xref>,
    <es-xref target=
    "sec-conditional-operator-static-semantics-isvalidsimpleassignmenttarget">12.12.2</es-xref>,
    <es-xref target=
    "sec-assignment-operators-static-semantics-isvalidsimpleassignmenttarget">12.13.3</es-xref>,
    <es-xref target=
    "sec-comma-operator-static-semantics-isvalidsimpleassignmenttarget">12.14.2</es-xref>.</p>

    <es-production name="EqualityExpression">
      <es-rhs><es-nt>EqualityExpression</es-nt> == <es-nt>RelationalExpression</es-nt></es-rhs>

      <es-rhs><es-nt>EqualityExpression</es-nt> != <es-nt>RelationalExpression</es-nt></es-rhs>

      <es-rhs><es-nt>EqualityExpression</es-nt> === <es-nt>RelationalExpression</es-nt></es-rhs>

      <es-rhs><es-nt>EqualityExpression</es-nt> !== <es-nt>RelationalExpression</es-nt></es-rhs>
    </es-production>

    <ol class="proc">
      <li>Return <b>false</b>.</li>
    </ol>
  </es-clause>

  <es-clause title="Runtime Semantics: Evaluation" anchor=
  "sec-equality-operators-runtime-semantics-evaluation">
    <es-production name="EqualityExpression" class="inline">
      <es-rhs><es-nt>EqualityExpression</es-nt> == <es-nt>RelationalExpression</es-nt></es-rhs>
    </es-production>

    <ol class="proc">
      <li>Let <i>lref</i> be the result of evaluating <i>EqualityExpression</i>.</li>

      <li>Let <i>lval</i> be <es-xref target="sec-getvalue">GetValue</es-xref>(<i>lref</i>).</li>

      <li><es-xref target="sec-returnifabrupt">ReturnIfAbrupt</es-xref>(<i>lval</i>).</li>

      <li>Let <i>rref</i> be the result of evaluating <i>RelationalExpression</i>.</li>

      <li>Let <i>rval</i> be <es-xref target="sec-getvalue">GetValue</es-xref>(<i>rref</i>).</li>

      <li><es-xref target="sec-returnifabrupt">ReturnIfAbrupt</es-xref>(<i>rval</i>).</li>

      <li>Return the result of performing Abstract Equality Comparison <i>rval</i> ==
      <i>lval</i>.</li>
    </ol>

    <es-production name="EqualityExpression" class="inline">
      <es-rhs><es-nt>EqualityExpression</es-nt> != <es-nt>RelationalExpression</es-nt></es-rhs>
    </es-production>

    <ol class="proc">
      <li>Let <i>lref</i> be the result of evaluating <i>EqualityExpression</i>.</li>

      <li>Let <i>lval</i> be <es-xref target="sec-getvalue">GetValue</es-xref>(<i>lref</i>).</li>

      <li><es-xref target="sec-returnifabrupt">ReturnIfAbrupt</es-xref>(<i>lval</i>).</li>

      <li>Let <i>rref</i> be the result of evaluating <i>RelationalExpression</i>.</li>

      <li>Let <i>rval</i> be <es-xref target="sec-getvalue">GetValue</es-xref>(<i>rref</i>).</li>

      <li><es-xref target="sec-returnifabrupt">ReturnIfAbrupt</es-xref>(<i>rval</i>).</li>

      <li>Let <i>r</i> be the result of performing Abstract Equality Comparison <i>rval</i> ==
      <i>lval</i>.</li>

      <li>If <i>r</i> is <b>true</b>, return <b>false</b>. Otherwise, return <b>true</b>.</li>
    </ol>

    <es-production name="EqualityExpression" class="inline">
      <es-rhs><es-nt>EqualityExpression</es-nt> === <es-nt>RelationalExpression</es-nt></es-rhs>
    </es-production>

    <ol class="proc">
      <li>Let <i>lref</i> be the result of evaluating <i>EqualityExpression</i>.</li>

      <li>Let <i>lval</i> be <es-xref target="sec-getvalue">GetValue</es-xref>(<i>lref</i>).</li>

      <li><es-xref target="sec-returnifabrupt">ReturnIfAbrupt</es-xref>(<i>lval</i>)</li>

      <li>Let <i>rref</i> be the result of evaluating <i>RelationalExpression</i>.</li>

      <li>Let <i>rval</i> be <es-xref target="sec-getvalue">GetValue</es-xref>(<i>rref</i>).</li>

      <li><es-xref target="sec-returnifabrupt">ReturnIfAbrupt</es-xref>(<i>rval</i>).</li>

      <li>Return the result of performing Strict Equality Comparison <i>rval</i> ===
      <i>lval</i>.</li>
    </ol>

    <es-production name="EqualityExpression" class="inline">
      <es-rhs><es-nt>EqualityExpression</es-nt> !== <es-nt>RelationalExpression</es-nt></es-rhs>
    </es-production>

    <ol class="proc">
      <li>Let <i>lref</i> be the result of evaluating <i>EqualityExpression</i>.</li>

      <li>Let <i>lval</i> be <es-xref target="sec-getvalue">GetValue</es-xref>(<i>lref</i>).</li>

      <li><es-xref target="sec-returnifabrupt">ReturnIfAbrupt</es-xref>(<i>lval</i>).</li>

      <li>Let <i>rref</i> be the result of evaluating <i>RelationalExpression</i>.</li>

      <li>Let <i>rval</i> be <es-xref target="sec-getvalue">GetValue</es-xref>(<i>rref</i>).</li>

      <li><es-xref target="sec-returnifabrupt">ReturnIfAbrupt</es-xref>(<i>rval</i>).</li>

      <li>Let <i>r</i> be the result of performing Strict Equality Comparison <i>rval</i> ===
      <i>lval</i>.</li>

      <li>If <i>r</i> is <b>true</b>, return <b>false</b>. Otherwise, return <b>true</b>.</li>
    </ol>

    <es-note>
      <p>Given the above definition of equality:</p>

      <ul>
        <li>String comparison can be forced by: <code>"" + a == "" + b</code>.</li>

        <li>Numeric comparison can be forced by: <code>+a == +b</code>.</li>

        <li>Boolean comparison can be forced by: <code>!a == !b</code>.</li>
      </ul>
    </es-note>

    <es-note>
      <p>The equality operators maintain the following invariants:</p>

      <ul>
        <li><code>A</code> <code>!=</code> <code>B</code> is equivalent to <code>!(A</code>
        <code>==</code> <code>B)</code>.</li>

        <li><code>A</code> <code>==</code> <code>B</code> is equivalent to <code>B</code>
        <code>==</code> <code>A</code>, except in the order of evaluation of <code>A</code> and
        <code>B</code>.</li>
      </ul>
    </es-note>

    <es-note>
      <p>The equality operator is not always transitive. For example, there might be two distinct
      String objects, each representing the same String value; each String object would be
      considered equal to the String value by the <code>==</code> operator, but the two String
      objects would not be equal to each other. For Example:</p>

      <ul>
        <li><code>new String("a")</code> <code>==</code> <code>"a"</code> and <code>"a"</code>
        <code>==</code> <code>new String("a")</code>are both <b>true</b>.</li>

        <li><code>new String("a")</code> <code>==</code> <code>new String("a")</code> is
        <b>false</b>.</li>
      </ul>
    </es-note>

    <es-note>
      <p>Comparison of Strings uses a simple equality test on sequences of code unit values. There
      is no attempt to use the more complex, semantically oriented definitions of character or
      string equality and collating order defined in the Unicode specification. Therefore Strings
      values that are canonically equal according to the Unicode standard could test as unequal. In
      effect this algorithm assumes that both Strings are already in normalised form.</p>
    </es-note>
  </es-clause>
</es-clause>
